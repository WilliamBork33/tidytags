<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using tidytags with a conference hashtag • tidytags</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using tidytags with a conference hashtag">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidytags</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tidytags-with-conf-hashtags.html">Using tidytags with a conference hashtag</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bretsw/tidytags">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="tidytags-with-conf-hashtags_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="tidytags-with-conf-hashtags_files/jquery-1.12.4/jquery.min.js"></script><link href="tidytags-with-conf-hashtags_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="tidytags-with-conf-hashtags_files/leaflet-1.3.1/leaflet.js"></script><link href="tidytags-with-conf-hashtags_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="tidytags-with-conf-hashtags_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="tidytags-with-conf-hashtags_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="tidytags-with-conf-hashtags_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="tidytags-with-conf-hashtags_files/leaflet-binding-2.0.3/leaflet.js"></script><script src="tidytags-with-conf-hashtags_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="tidytags-with-conf-hashtags_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><link href="tidytags-with-conf-hashtags_files/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="tidytags-with-conf-hashtags_files/HomeButton-0.0.1/home-button.js"></script><script src="tidytags-with-conf-hashtags_files/HomeButton-0.0.1/easy-button-src.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Using tidytags with a conference hashtag</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/bretsw/tidytags/blob/master/vignettes/tidytags-with-conf-hashtags.Rmd"><code>vignettes/tidytags-with-conf-hashtags.Rmd</code></a></small>
      <div class="hidden name"><code>tidytags-with-conf-hashtags.Rmd</code></div>

    </div>

    
    
<p>This vignette is intended for…</p>
<div id="read_tags" class="section level3">
<h3 class="hasAnchor">
<a href="#read_tags" class="anchor"></a>read_tags()</h3>
<p>If you want to simply view a TAGS archive, you can use <code><a href="../reference/read_tags.html">read_tags()</a></code>. Here, we’ve openly shared a TAGS tracker that has been collecting tweets associated with the American Education Researcher Assocation (AERA) conference in 2019. Tweets containing the keyword text “#AERA19” or “#AERA2019” have been collected since February 2019, and this process is still active through today.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_url &lt;-<span class="st"> "https://docs.google.com/spreadsheets/d/1WM2xWG9B0Wqn3YG5uakfy_NSAEzIFP2nEAJ5U_fqufc/edit#gid=8743918"</span>

example_df_all &lt;-<span class="st"> </span><span class="kw"><a href="../reference/read_tags.html">read_tags</a></span>(example_url)
<span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(example_df_all)
<span class="co">#&gt; [1] 35416    18</span></code></pre></div>
</div>
<div id="pull_tweet_data" class="section level3">
<h3 class="hasAnchor">
<a href="#pull_tweet_data" class="anchor"></a>pull_tweet_data()</h3>
<p>This is a basic example which shows you how to read a TAGS sheet and then use {rtweet} (via <code><a href="https://rdrr.io/pkg/rtweet/man/lookup_statuses.html">rtweet::lookup_statuses()</a></code>) to access additional data. The data for this example were gathered with TAGS, querying the Twitter API to collect tweets containing the #AERA19 or #AERA2019 hashtags throughout most of the year 2019 (beginning February 22, 2019). The <code><a href="../reference/read_tags.html">tidytags::read_tags()</a></code> and <code><a href="../reference/pull_tweet_data.html">tidytags::pull_tweet_data()</a></code> functions work together to retrieve data from a TAGS source.</p>
<p>Note that your dataset will often contain fewer rows after running <code><a href="../reference/pull_tweet_data.html">tidytags::pull_tweet_data()</a></code>. This is because <code><a href="https://rdrr.io/pkg/rtweet/man/lookup_statuses.html">rtweet::lookup_statuses()</a></code> is searching for tweet IDs that are currently available. Any tweets that have been deleted or made “protected” (i.e., private) since TAGS first collected them are dropped from the dataset. Rather than view this as a limitation, we see this as an asset to help ensure our data better reflects the intentions of the accounts whose tweets we have collected (see Fiesler &amp; Proferes, 2018).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_snippet &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(example_df_all, <span class="dv">100</span>)
example_after_rtweet0 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pull_tweet_data.html">pull_tweet_data</a></span>(example_snippet<span class="op">$</span>id_str)
example_after_rtweet &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pull_tweet_data.html">pull_tweet_data</a></span>(<span class="kw"><a href="../reference/get_char_tweet_ids.html">get_char_tweet_ids</a></span>(example_snippet))
<span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(example_after_rtweet0); <span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(example_after_rtweet)
<span class="co">#&gt; [1] 54 90</span>
<span class="co">#&gt; [1] 95 90</span></code></pre></div>
<p>Here is the result, viewed with the <code>glimpse()</code> function from <strong>dplyr</strong>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(example_after_rtweet)
<span class="co">#&gt; Observations: 95</span>
<span class="co">#&gt; Variables: 90</span>
<span class="co">#&gt; $ user_id                 &lt;chr&gt; "2994964450", "33107559", "33107559", "331075…</span>
<span class="co">#&gt; $ status_id               &lt;chr&gt; "1099077877960708096", "1099435242501287937",…</span>
<span class="co">#&gt; $ created_at              &lt;dttm&gt; 2019-02-22 22:46:00, 2019-02-23 22:26:02, 20…</span>
<span class="co">#&gt; $ screen_name             &lt;chr&gt; "stephlezotte", "lizjmeyer", "lizjmeyer", "li…</span>
<span class="co">#&gt; $ text                    &lt;chr&gt; "If you are interested in understanding and e…</span>
<span class="co">#&gt; $ source                  &lt;chr&gt; "Twitter for iPhone", "Twitter for iPhone", "…</span>
<span class="co">#&gt; $ display_text_width      &lt;dbl&gt; 150, 101, 156, 111, 163, 271, 144, 140, 207, …</span>
<span class="co">#&gt; $ reply_to_status_id      &lt;chr&gt; NA, "1099433973195800576", "10994339731958005…</span>
<span class="co">#&gt; $ reply_to_user_id        &lt;chr&gt; NA, "33107559", "33107559", NA, "33107559", "…</span>
<span class="co">#&gt; $ reply_to_screen_name    &lt;chr&gt; NA, "lizjmeyer", "lizjmeyer", NA, "lizjmeyer"…</span>
<span class="co">#&gt; $ is_quote                &lt;lgl&gt; FALSE, FALSE, FALSE, TRUE, FALSE, FALSE, FALS…</span>
<span class="co">#&gt; $ is_retweet              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRU…</span>
<span class="co">#&gt; $ favorite_count          &lt;int&gt; 3, 5, 4, 1, 4, 6, 0, 0, 13, 0, 0, 0, 0, 0, 0,…</span>
<span class="co">#&gt; $ retweet_count           &lt;int&gt; 1, 1, 1, 4, 1, 1, 33, 7, 1, 33, 33, 1, 1, 1, …</span>
<span class="co">#&gt; $ quote_count             &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ reply_count             &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ hashtags                &lt;list&gt; ["AERA19", &lt;"titleix", "aera19"&gt;, &lt;"metoo", …</span>
<span class="co">#&gt; $ symbols                 &lt;list&gt; [NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span>
<span class="co">#&gt; $ urls_url                &lt;list&gt; [NA, NA, NA, "twitter.com/AERADivisionK/…", …</span>
<span class="co">#&gt; $ urls_t.co               &lt;list&gt; [NA, NA, NA, "https://t.co/O4kF3miiHp", NA, …</span>
<span class="co">#&gt; $ urls_expanded_url       &lt;list&gt; [NA, NA, NA, "https://twitter.com/AERADivisi…</span>
<span class="co">#&gt; $ media_url               &lt;list&gt; ["http://pbs.twimg.com/media/D0C1gKVX0AMgLxH…</span>
<span class="co">#&gt; $ media_t.co              &lt;list&gt; ["https://t.co/fvpuZPmBqC", "https://t.co/RH…</span>
<span class="co">#&gt; $ media_expanded_url      &lt;list&gt; ["https://twitter.com/stephlezotte/status/10…</span>
<span class="co">#&gt; $ media_type              &lt;list&gt; ["photo", "photo", "photo", NA, "photo", NA,…</span>
<span class="co">#&gt; $ ext_media_url           &lt;list&gt; ["http://pbs.twimg.com/media/D0C1gKVX0AMgLxH…</span>
<span class="co">#&gt; $ ext_media_t.co          &lt;list&gt; ["https://t.co/fvpuZPmBqC", "https://t.co/RH…</span>
<span class="co">#&gt; $ ext_media_expanded_url  &lt;list&gt; ["https://twitter.com/stephlezotte/status/10…</span>
<span class="co">#&gt; $ ext_media_type          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ mentions_user_id        &lt;list&gt; [NA, &lt;"831239402932289538", "3158586588", "1…</span>
<span class="co">#&gt; $ mentions_screen_name    &lt;list&gt; [NA, &lt;"DrKatieLewis", "AERADivisionK", "aera…</span>
<span class="co">#&gt; $ lang                    &lt;chr&gt; "en", "en", "en", "en", "en", "en", "en", "en…</span>
<span class="co">#&gt; $ quoted_status_id        &lt;chr&gt; NA, NA, NA, "1099039335104442370", NA, NA, NA…</span>
<span class="co">#&gt; $ quoted_text             &lt;chr&gt; NA, NA, NA, "#AERADivK's Equity &amp;amp; Inclusi…</span>
<span class="co">#&gt; $ quoted_created_at       &lt;dttm&gt; NA, NA, NA, 2019-02-22 20:12:51, NA, NA, NA,…</span>
<span class="co">#&gt; $ quoted_source           &lt;chr&gt; NA, NA, NA, "Twitter Web Client", NA, NA, NA,…</span>
<span class="co">#&gt; $ quoted_favorite_count   &lt;int&gt; NA, NA, NA, 38, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ quoted_retweet_count    &lt;int&gt; NA, NA, NA, 33, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ quoted_user_id          &lt;chr&gt; NA, NA, NA, "3158586588", NA, NA, NA, NA, NA,…</span>
<span class="co">#&gt; $ quoted_screen_name      &lt;chr&gt; NA, NA, NA, "AERADivisionK", NA, NA, NA, NA, …</span>
<span class="co">#&gt; $ quoted_name             &lt;chr&gt; NA, NA, NA, "DivisionK", NA, NA, NA, NA, NA, …</span>
<span class="co">#&gt; $ quoted_followers_count  &lt;int&gt; NA, NA, NA, 957, NA, NA, NA, NA, NA, NA, NA, …</span>
<span class="co">#&gt; $ quoted_friends_count    &lt;int&gt; NA, NA, NA, 322, NA, NA, NA, NA, NA, NA, NA, …</span>
<span class="co">#&gt; $ quoted_statuses_count   &lt;int&gt; NA, NA, NA, 397, NA, NA, NA, NA, NA, NA, NA, …</span>
<span class="co">#&gt; $ quoted_location         &lt;chr&gt; NA, NA, NA, "", NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ quoted_description      &lt;chr&gt; NA, NA, NA, "The Official AERA Division K Twi…</span>
<span class="co">#&gt; $ quoted_verified         &lt;lgl&gt; NA, NA, NA, FALSE, NA, NA, NA, NA, NA, NA, NA…</span>
<span class="co">#&gt; $ retweet_status_id       &lt;chr&gt; NA, NA, NA, NA, NA, NA, "1099039335104442370"…</span>
<span class="co">#&gt; $ retweet_text            &lt;chr&gt; NA, NA, NA, NA, NA, NA, "#AERADivK's Equity &amp;…</span>
<span class="co">#&gt; $ retweet_created_at      &lt;dttm&gt; NA, NA, NA, NA, NA, NA, 2019-02-22 20:12:51,…</span>
<span class="co">#&gt; $ retweet_source          &lt;chr&gt; NA, NA, NA, NA, NA, NA, "Twitter Web Client",…</span>
<span class="co">#&gt; $ retweet_favorite_count  &lt;int&gt; NA, NA, NA, NA, NA, NA, 38, 5, NA, 38, 38, 4,…</span>
<span class="co">#&gt; $ retweet_retweet_count   &lt;int&gt; NA, NA, NA, NA, NA, NA, 33, 7, NA, 33, 33, 1,…</span>
<span class="co">#&gt; $ retweet_user_id         &lt;chr&gt; NA, NA, NA, NA, NA, NA, "3158586588", "143203…</span>
<span class="co">#&gt; $ retweet_screen_name     &lt;chr&gt; NA, NA, NA, NA, NA, NA, "AERADivisionK", "AER…</span>
<span class="co">#&gt; $ retweet_name            &lt;chr&gt; NA, NA, NA, NA, NA, NA, "DivisionK", "Div J G…</span>
<span class="co">#&gt; $ retweet_followers_count &lt;int&gt; NA, NA, NA, NA, NA, NA, 957, 2366, NA, 957, 9…</span>
<span class="co">#&gt; $ retweet_friends_count   &lt;int&gt; NA, NA, NA, NA, NA, NA, 322, 2324, NA, 322, 3…</span>
<span class="co">#&gt; $ retweet_statuses_count  &lt;int&gt; NA, NA, NA, NA, NA, NA, 397, 4603, NA, 397, 3…</span>
<span class="co">#&gt; $ retweet_location        &lt;chr&gt; NA, NA, NA, NA, NA, NA, "", "", NA, "", "", "…</span>
<span class="co">#&gt; $ retweet_description     &lt;chr&gt; NA, NA, NA, NA, NA, NA, "The Official AERA Di…</span>
<span class="co">#&gt; $ retweet_verified        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, FALSE, FALSE, NA, FAL…</span>
<span class="co">#&gt; $ place_url               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ place_name              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ place_full_name         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ place_type              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ country                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ country_code            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ geo_coords              &lt;list&gt; [&lt;NA, NA&gt;, &lt;NA, NA&gt;, &lt;NA, NA&gt;, &lt;NA, NA&gt;, &lt;NA…</span>
<span class="co">#&gt; $ coords_coords           &lt;list&gt; [&lt;NA, NA&gt;, &lt;NA, NA&gt;, &lt;NA, NA&gt;, &lt;NA, NA&gt;, &lt;NA…</span>
<span class="co">#&gt; $ bbox_coords             &lt;list&gt; [&lt;NA, NA, NA, NA, NA, NA, NA, NA&gt;, &lt;NA, NA, …</span>
<span class="co">#&gt; $ status_url              &lt;chr&gt; "https://twitter.com/stephlezotte/status/1099…</span>
<span class="co">#&gt; $ name                    &lt;chr&gt; "Stephanie Lezotte", "Elizabeth J. Meyer", "E…</span>
<span class="co">#&gt; $ location                &lt;chr&gt; "South Jersey", "Boulder, CO", "Boulder, CO",…</span>
<span class="co">#&gt; $ description             &lt;chr&gt; "PhD candidate (higher ed org theory), Resear…</span>
<span class="co">#&gt; $ url                     &lt;chr&gt; NA, "https://t.co/XlATn4P6VT", "https://t.co/…</span>
<span class="co">#&gt; $ protected               &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…</span>
<span class="co">#&gt; $ followers_count         &lt;int&gt; 102, 2379, 2379, 2379, 2379, 2379, 548, 4180,…</span>
<span class="co">#&gt; $ friends_count           &lt;int&gt; 321, 1592, 1592, 1592, 1592, 1592, 558, 2949,…</span>
<span class="co">#&gt; $ listed_count            &lt;int&gt; 2, 154, 154, 154, 154, 154, 4, 69, 1, 11, 53,…</span>
<span class="co">#&gt; $ statuses_count          &lt;int&gt; 211, 14369, 14369, 14369, 14369, 14369, 11343…</span>
<span class="co">#&gt; $ favourites_count        &lt;int&gt; 298, 6335, 6335, 6335, 6335, 6335, 28526, 250…</span>
<span class="co">#&gt; $ account_created_at      &lt;dttm&gt; 2015-01-23 22:29:03, 2009-04-19 02:58:52, 20…</span>
<span class="co">#&gt; $ verified                &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…</span>
<span class="co">#&gt; $ profile_url             &lt;chr&gt; NA, "https://t.co/XlATn4P6VT", "https://t.co/…</span>
<span class="co">#&gt; $ profile_expanded_url    &lt;chr&gt; NA, "http://elizabethjmeyer.com", "http://eli…</span>
<span class="co">#&gt; $ account_lang            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ profile_banner_url      &lt;chr&gt; "https://pbs.twimg.com/profile_banners/299496…</span>
<span class="co">#&gt; $ profile_background_url  &lt;chr&gt; "http://abs.twimg.com/images/themes/theme1/bg…</span>
<span class="co">#&gt; $ profile_image_url       &lt;chr&gt; "http://pbs.twimg.com/profile_images/96213769…</span></code></pre></div>
<p>At this point, the purpose of the <strong>tidytags</strong> R package should be restated. <strong>TAGS</strong> Tweet trackers are easily set up and maintained, and does an excellent job passively collecting tweets over time. For instance, our example TAGS we demo here has collected thousands of tweets containing the keyword text “#AERA19 OR #AERA2019”. In contrast, running this query now using <code><a href="https://rdrr.io/pkg/rtweet/man/search_tweets.html">rtweet::search_tweets()</a></code> is limited by Twitter’s API, and this search can only go back in time 6-9 days, and is limited to returning at most 18,000 tweets per query. So, if you are interested in tweets about the 2019 AERA conference in Toronto, today you could get almost no meaningful data using <strong>rtweet</strong> alone.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rtweet_today &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/search_tweets.html">search_tweets</a></span>(<span class="st">"#AERA19 OR #AERA2019"</span>, <span class="dt">n=</span><span class="dv">18000</span>)
<span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Number of tweets returned by an rtweet search today:"</span>, <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(rtweet_today))
<span class="co">#&gt; [1] "Number of tweets returned by an rtweet search today: 1"</span></code></pre></div>
<p>Although <strong>TAGS</strong> is great at easily collecting tweets over time (breadth), it lacks depth in terms of metadata is returned related to the gathered tweets. Specifically, <strong>TAGS</strong> returns information on at most 18 variables; in contrast, <strong>rtweet</strong> returns information on up to 90 variables. Thus our package <strong>tidytags</strong> is needed to combine the breadth of TAGS with the depth of rtweet. This is succinctly demonstrated by comparing the dimensions of the full TAGS dataset <code>example_df_all</code> with the snippet expanded with rtweet, <code>example_full</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(example_df_all); <span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(example_after_rtweet)
<span class="co">#&gt; [1] 35416    18</span>
<span class="co">#&gt; [1] 95 90</span></code></pre></div>
</div>
<div id="lookup_many_tweets" class="section level3">
<h3 class="hasAnchor">
<a href="#lookup_many_tweets" class="anchor"></a>lookup_many_tweets()</h3>
<p>The Twitter API only allows the looking up of 90,000 tweet IDs at a time, a rate limit which resets after 15 minutes. Hence <code><a href="https://rdrr.io/pkg/rtweet/man/lookup_statuses.html">rtweet::lookup_statuses()</a></code> will only return results for the first 90,000 tweet IDs in your dataset. The function <code><a href="../reference/lookup_many_tweets.html">tidytags::lookup_many_tweets()</a></code> will automotically break your dataset into batches of 90,000 tweets, looking up one batch per hour until finished. Note that <code><a href="../reference/lookup_many_tweets.html">lookup_many_tweets()</a></code> also works for datasets with fewer than 90,000 tweets as well.</p>
<p>Because <code><a href="../reference/lookup_many_tweets.html">lookup_many_tweets()</a></code> involves waiting for 15 minutes between batches, we do not include an example here. However, this function can be used the same as <code><a href="../reference/pull_tweet_data.html">pull_tweet_data()</a></code>.</p>
</div>
<div id="process_tweets-process_tweets_flattened" class="section level3">
<h3 class="hasAnchor">
<a href="#process_tweets-process_tweets_flattened" class="anchor"></a>process_tweets(), process_tweets_flattened()</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_processed &lt;-<span class="st"> </span><span class="kw"><a href="../reference/process_tweets.html">process_tweets</a></span>(example_after_rtweet)
<span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(example_processed)
<span class="co">#&gt; [1]  95 100</span></code></pre></div>
</div>
<div id="get_url_domain" class="section level3">
<h3 class="hasAnchor">
<a href="#get_url_domain" class="anchor"></a>get_url_domain()</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">longurl<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/longurl/man/expand_urls.html">expand_urls</a></span>(<span class="st">"http://bit.ly/36KWct1"</span>, <span class="dt">seconds=</span><span class="dv">10</span>)
<span class="co">#&gt; # A tibble: 1 x 3</span>
<span class="co">#&gt;   orig_url              expanded_url                    status_code</span>
<span class="co">#&gt;   &lt;chr&gt;                 &lt;chr&gt;                                 &lt;int&gt;</span>
<span class="co">#&gt; 1 http://bit.ly/36KWct1 https://www.aera.net/About-AERA         200</span>
<span class="kw"><a href="../reference/get_url_domain.html">get_url_domain</a></span>(<span class="st">"http://bit.ly/36KWct1"</span>)
<span class="co">#&gt; [1] "aera.net"</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_domains &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_url_domain.html">get_url_domain</a></span>(example_after_rtweet<span class="op">$</span>urls_url)
example_domains[<span class="kw"><a href="https://rdrr.io/r/base/which.html">which</a></span>(<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(example_domains))]
<span class="co">#&gt;  [1] "twitter.com"                 "twitter.com"                </span>
<span class="co">#&gt;  [3] "aera.net"                    "docs.google.com"            </span>
<span class="co">#&gt;  [5] "events.uw.edu"               "docs.google.com"            </span>
<span class="co">#&gt;  [7] "docs.google.com"             "twitter.com"                </span>
<span class="co">#&gt;  [9] "motsig.org"                  "convention2.allacademic.com"</span>
<span class="co">#&gt; [11] "insidehighered.com"          "docs.google.com"            </span>
<span class="co">#&gt; [13] "twitter.com"                 "twitter.com"                </span>
<span class="co">#&gt; [15] "convention2.allacademic.com" "docs.google.com"            </span>
<span class="co">#&gt; [17] "twitter.com"                 "aera19.net"                 </span>
<span class="co">#&gt; [19] "convention2.allacademic.com"</span></code></pre></div>
</div>
<div id="geocode_tags" class="section level3">
<h3 class="hasAnchor">
<a href="#geocode_tags" class="anchor"></a>geocode_tags()</h3>
<p>First, <code><a href="../reference/geocode_tags.html">tidytags::geocode_tags()</a></code> pulls from the Google Geocoding API, which requires a Google Geocoding API Key. You can easily secure a key through Google Cloud Platform; <a href="https://developers.google.com/maps/documentation/geocoding/get-api-key">read more here</a>. Next, we recommend saving your Google Geocoding API Key in the .Renviron file as <strong>‘Google_API_key’</strong>. You can quickly access this file using the R code <code><a href="https://usethis.r-lib.org/reference/edit.html">usethis::edit_r_environ(scope='user')</a></code>.</p>
<p>Note that <code><a href="../reference/geocode_tags.html">tidytags::geocode_tags()</a></code> should be used after additional metadata has been retrieved with <code><a href="../reference/pull_tweet_data.html">tidytags::pull_tweet_data()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_environ</a></span>(<span class="dt">scope=</span><span class="st">'user'</span>)</code></pre></div>
<p>Once you’ve saved your this file, quit your R session and restart. The function <code><a href="../reference/geocode_tags.html">tidytags::geocode_tags()</a></code> will work for you from now on.</p>
<p>We’ve paired <code><a href="../reference/geocode_tags.html">tidytags::geocode_tags()</a></code> with the <strong>mapview</strong> package for quick, inteactive viewing of the geocoded data. Read more about mapview <a href="https://r-spatial.github.io/mapview/">here</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_geo_coords &lt;-<span class="st"> </span><span class="kw"><a href="../reference/geocode_tags.html">geocode_tags</a></span>(example_after_rtweet)
<span class="co">#&gt; South Jersey............................OK</span>
<span class="co">#&gt; Boulder, CO.............................OK</span>
<span class="co">#&gt; Boulder, CO.............................OK</span>
<span class="co">#&gt; Boulder, CO.............................OK</span>
<span class="co">#&gt; Boulder, CO.............................OK</span>
<span class="co">#&gt; Boulder, CO.............................OK</span>
<span class="co">#&gt; So Cal..................................OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; Greater Toronto Area, Ontario,..........OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; New York, NY............................OK</span>
<span class="co">#&gt; renold@cf.ac.uk.........................ZERO_RESULTS</span>
<span class="co">#&gt; renold@cf.ac.uk.........................ZERO_RESULTS</span>
<span class="co">#&gt; renold@cf.ac.uk.........................ZERO_RESULTS</span>
<span class="co">#&gt; Richmond Hill, Ontario..................OK</span>
<span class="co">#&gt; Austin, TX..............................OK</span>
<span class="co">#&gt; disrespected piscataway lands...........OK</span>
<span class="co">#&gt; Philly jawn in Bmore, again.............OK</span>
<span class="co">#&gt; Oakland, CA.............................OK</span>
<span class="co">#&gt; Milwaukee, WI...........................OK</span>
<span class="co">#&gt; Global..................................OK</span>
<span class="co">#&gt; George Mason, VA........................OK</span>
<span class="co">#&gt; George Mason, VA........................OK</span>
<span class="co">#&gt; Portland, ME............................OK</span>
<span class="co">#&gt; Boulder, CO.............................OK</span>
<span class="co">#&gt; From Stamford CT to the DMV.............ZERO_RESULTS</span>
<span class="co">#&gt; Louisville, KY, USA.....................OK</span>
<span class="co">#&gt; Eastleigh, England......................OK</span>
<span class="co">#&gt; Washington, DC..........................OK</span>
<span class="co">#&gt; State College, PA.......................OK</span>
<span class="co">#&gt; Denver, CO..............................OK</span>
<span class="co">#&gt; International...........................OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; New York City...........................OK</span>
<span class="co">#&gt; LONDON UK...............................OK</span>
<span class="co">#&gt; Iowa City...............................OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; Seattle, WA.............................OK</span>
<span class="co">#&gt; ENFIELD.................................OK</span>
<span class="co">#&gt; Columbia, MO............................OK</span>
<span class="co">#&gt; Toronto, Ontario, Canada................OK</span>
<span class="co">#&gt; San Jose, CA............................OK</span>
<span class="co">#&gt;  Osage &amp; Haudenosauneega Lands..........OK</span>
<span class="co">#&gt; Toronto, Ontario........................OK</span>
<span class="co">#&gt; Grand Prairie, TX.......................OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; Philadelphia, PA........................OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; Long Beach, California..................OK</span>
<span class="co">#&gt; Waterloo, Ontario, Canada...............OK</span>
<span class="co">#&gt; North Carolina, USA.....................OK</span>
<span class="co">#&gt; Pico Rivera, CA.........................OK</span>
<span class="co">#&gt; 🕉 💪🏽🧠...................................ZERO_RESULTS</span>
<span class="co">#&gt; United States...........................OK</span>
<span class="co">#&gt; Salt Lake City, UT......................OK</span>
<span class="co">#&gt; Pittsburgh, PA..........................OK</span>
<span class="co">#&gt; MN ➡ DC.................................OK</span>
<span class="co">#&gt; MI......................................OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; Berkeley, CA............................OK</span>
<span class="co">#&gt; Atlanta, GA.............................OK</span>
<span class="co">#&gt; North Vancouver.........................OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; University of Toronto...................OK</span>
<span class="co">#&gt; Greensboro, North Carolina..............OK</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; NA......................................</span>
<span class="co">#&gt; Brazil/Canada...........................OK</span>
<span class="co">#&gt; Brazil/Canada...........................OK</span>
<span class="co">#&gt; Savannah, TX............................OK</span>
<span class="co">#&gt; Richmond, VA............................OK</span>
<span class="co">#&gt; Las Vegas, NV...........................OK</span>
<span class="co">#&gt; London, England.........................OK</span>
<span class="co">#&gt; Louth, Ireland..........................OK</span>
<span class="co">#&gt; Colorado, USA...........................OK</span>
<span class="co">#&gt; Albany, NY..............................OK</span>
<span class="co">#&gt; Nashville, TN...........................OK</span>
<span class="co">#&gt; korean “america” and london.............OK</span>
<span class="co">#&gt; Montréal | Toronto......................OK</span>
<span class="co">#&gt; College Park, MD........................OK</span>
<span class="co">#&gt; Ohio....................................OK</span>
<span class="co">#&gt; Louisville, KY..........................OK</span>
<span class="co">#&gt; Ames, IA................................OK</span>
<span class="co">#&gt; Ames, IA................................OK</span>
<span class="co">#&gt; Nashville, TN...........................OK</span>
<span class="co">#&gt; San Francisco, CA.......................OK</span>
<span class="co">#&gt; Boston MA...............................OK</span>
<span class="co">#&gt; Boston MA...............................OK</span>
<span class="co">#&gt; Wampanoag &amp; Massachussett land..........OK</span>
<span class="co">#&gt; California..............................OK</span>
<span class="co">#&gt; United States...........................OK</span>
<span class="co">#&gt; New York, NY............................OK</span>
<span class="co">#&gt; Baltimore, MD...........................OK</span>
example_map &lt;-<span class="st"> </span>mapview<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapview</a></span>(example_geo_coords<span class="op">$</span>pnt) 
<span class="co">#&gt; Warning in validateCoords(lng, lat, funcName): Data contains 17 rows with either</span>
<span class="co">#&gt; missing or invalid lat/lon values and will be ignored</span>
mapview<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/mapview/man/mapshot.html">mapshot</a></span>(example_map, <span class="dt">file=</span><span class="st">"example-map.png"</span>)
example_map</code></pre></div>
<div id="htmlwidget-4626c3a1c5b61bf21a6e" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-4626c3a1c5b61bf21a6e">{"x":{"options":{"minZoom":1,"maxZoom":100,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",1,"CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter",2,"CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap",3,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",4,"Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenTopoMap",5,"OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[39.3583238,40.0149856,40.0149856,40.0149856,40.0149856,40.0149856,34.9592083,null,44.0383744,null,40.7127753,null,null,null,43.8828401,30.267153,40.554887,39.9525839,37.8043514,43.0389025,37.2268697,38.8298118,38.8298118,43.6590993,40.0149856,null,38.2526647,50.967182,38.9071923,40.7933949,39.7392358,39.1319356,null,40.7127753,51.5073509,41.6611277,null,null,47.6062095,42.0027181,38.9517053,43.653226,37.3382082,36.2083506,43.653226,32.7459645,null,null,39.9525839,null,33.7700504,43.4642578,35.7595731,33.9830688,null,37.09024,40.7607793,40.4406248,46.729553,37.1651374,null,37.8715226,33.7489954,49.3199816,null,43.6628917,36.0726354,null,null,43.6517618,43.6517618,33.2258526,37.5407246,36.1699412,51.5073509,53.9508,39.5500507,42.6525793,36.1626638,51.5120671,43.653226,38.9896967,40.4172871,38.2526647,42.0307812,42.0307812,36.1626638,37.7749295,42.3600825,42.3600825,41.5955491,36.778261,37.09024,40.7127753,39.2903848],[-74.437441,-105.2705456,-105.2705456,-105.2705456,-105.2705456,-105.2705456,-116.419389,null,-79.1999949,null,-74.0059728,null,null,null,-79.4402808,-97.7430608,-74.4642861,-75.1652215,-122.2711639,-87.9064736,-95.7403649,-77.3073606,-77.3073606,-70.2568189,-105.2705456,null,-85.7584557,-1.374688,-77.0368707,-77.8600012,-104.990251,-94.495439,null,-74.0059728,-0.1277583,-91.5301683,null,null,-122.3320708,-72.5441445,-92.3340724,-79.3831843,-121.8863286,-96.0027843,-79.3831843,-96.9977846,null,null,-75.1652215,null,-118.1937395,-80.5204096,-79.0192997,-118.096735,null,-95.712891,-111.8910474,-79.9958864,-94.6858998,-95.111255,null,-122.273042,-84.3879824,-123.0724139,null,-79.3956564,-79.7919754,null,null,-79.3813169,-79.3813169,-96.9081597,-77.4360481,-115.1398296,-0.1277583,-6.54062,-105.7820674,-73.7562317,-86.7816016,-0.1314853,-79.3831843,-76.93776,-82.907123,-85.7584557,-93.6319131,-93.6319131,-86.7816016,-122.4194155,-71.0588801,-71.0588801,-70.4760928,-119.4179324,-95.712891,-74.0059728,-76.6121893],6,null,"example_geo_coords$pnt",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":2,"opacity":0.9,"fill":true,"fillColor":"#6666ff","fillOpacity":0.6},null,null,null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-123.0724139,30.267153,-0.1277583,53.9508,"Zoom to example_geo_coords$pnt","<strong> example_geo_coords$pnt <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"example_geo_coords$pnt",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[30.267153,53.9508],"lng":[-123.0724139,-0.1277583]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      //map.on('click', function (e) {\n      //  var txt = document.querySelector('.lnlt').textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = 'mycustom-clipboard-textarea-hidden-id';\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log('Creating textarea');\n      var textarea = document.createElement('textarea');\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = 'fixed';\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textarea.style.width = '1px';\n      textarea.style.height = '1px';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = 'none';\n      textarea.style.outline = 'none';\n      textarea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = 'transparent';\n      document.querySelector('body').appendChild(textarea);\n      console.log('The textarea now exists :)');\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log('The textarea already exists :3')\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand('copy');\n      if(!status){\n      console.error('Cannot copy text');\n      }else{\n      console.log('The text is now on the clipboard');\n      }\n      } catch (err) {\n      console.log('Unable to copy.');\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="get_upstream_replies" class="section level3">
<h3 class="hasAnchor">
<a href="#get_upstream_replies" class="anchor"></a>get_upstream_replies()</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sample1000 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pull_tweet_data.html">pull_tweet_data</a></span>(<span class="kw"><a href="../reference/get_char_tweet_ids.html">get_char_tweet_ids</a></span>(dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/sample.html">sample_n</a></span>(example_df_all, <span class="dv">1000</span>)))
sample_with_upstream &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_upstream_replies.html">get_upstream_replies</a></span>(sample1000)
<span class="co">#&gt; [1] "Iteration: 1"</span>
<span class="co">#&gt; [1] "New tweets added: 64; Unknown replies:41; Searchable replies: 40"</span>
<span class="co">#&gt; [1] "Iteration: 2"</span>
<span class="co">#&gt; [1] "New tweets added: 40; Unknown replies:33; Searchable replies: 32"</span>
<span class="co">#&gt; [1] "Iteration: 3"</span>
<span class="co">#&gt; [1] "New tweets added: 32; Unknown replies:30; Searchable replies: 29"</span>
<span class="co">#&gt; [1] "Iteration: 4"</span>
<span class="co">#&gt; [1] "New tweets added: 29; Unknown replies:25; Searchable replies: 24"</span>
<span class="co">#&gt; [1] "Iteration: 5"</span>
<span class="co">#&gt; [1] "New tweets added: 24; Unknown replies:18; Searchable replies: 17"</span>
<span class="co">#&gt; [1] "Iteration: 6"</span>
<span class="co">#&gt; [1] "New tweets added: 17; Unknown replies:18; Searchable replies: 17"</span>
<span class="co">#&gt; [1] "Iteration: 7"</span>
<span class="co">#&gt; [1] "New tweets added: 17; Unknown replies:16; Searchable replies: 15"</span>
<span class="co">#&gt; [1] "Iteration: 8"</span>
<span class="co">#&gt; [1] "New tweets added: 15; Unknown replies:15; Searchable replies: 14"</span>
<span class="co">#&gt; [1] "Iteration: 9"</span>
<span class="co">#&gt; [1] "New tweets added: 14; Unknown replies:15; Searchable replies: 14"</span>
<span class="co">#&gt; [1] "Iteration: 10"</span>
<span class="co">#&gt; [1] "New tweets added: 14; Unknown replies:14; Searchable replies: 13"</span>
<span class="co">#&gt; [1] "Iteration: 11"</span>
<span class="co">#&gt; [1] "New tweets added: 13; Unknown replies:11; Searchable replies: 10"</span>
<span class="co">#&gt; [1] "Iteration: 12"</span>
<span class="co">#&gt; [1] "New tweets added: 10; Unknown replies:9; Searchable replies: 8"</span>
<span class="co">#&gt; [1] "Iteration: 13"</span>
<span class="co">#&gt; [1] "New tweets added: 8; Unknown replies:9; Searchable replies: 8"</span>
<span class="co">#&gt; [1] "Iteration: 14"</span>
<span class="co">#&gt; [1] "New tweets added: 8; Unknown replies:7; Searchable replies: 6"</span>
<span class="co">#&gt; [1] "Iteration: 15"</span>
<span class="co">#&gt; [1] "New tweets added: 6; Unknown replies:7; Searchable replies: 6"</span>
<span class="co">#&gt; [1] "Iteration: 16"</span>
<span class="co">#&gt; [1] "New tweets added: 6; Unknown replies:6; Searchable replies: 5"</span>
<span class="co">#&gt; [1] "Iteration: 17"</span>
<span class="co">#&gt; [1] "New tweets added: 5; Unknown replies:6; Searchable replies: 5"</span>
<span class="co">#&gt; [1] "Iteration: 18"</span>
<span class="co">#&gt; [1] "New tweets added: 5; Unknown replies:6; Searchable replies: 5"</span>
<span class="co">#&gt; [1] "Iteration: 19"</span>
<span class="co">#&gt; [1] "New tweets added: 5; Unknown replies:4; Searchable replies: 3"</span>
<span class="co">#&gt; [1] "Iteration: 20"</span>
<span class="co">#&gt; [1] "New tweets added: 3; Unknown replies:3; Searchable replies: 2"</span>
<span class="co">#&gt; [1] "Iteration: 21"</span>
<span class="co">#&gt; [1] "New tweets added: 2; Unknown replies:3; Searchable replies: 2"</span>
<span class="co">#&gt; [1] "Iteration: 22"</span>
<span class="co">#&gt; [1] "New tweets added: 2; Unknown replies:3; Searchable replies: 2"</span>
<span class="co">#&gt; [1] "Iteration: 23"</span>
<span class="co">#&gt; [1] "New tweets added: 2; Unknown replies:3; Searchable replies: 2"</span>
<span class="co">#&gt; [1] "Iteration: 24"</span>
<span class="co">#&gt; [1] "New tweets added: 2; Unknown replies:3; Searchable replies: 2"</span>
<span class="co">#&gt; [1] "Iteration: 25"</span>
<span class="co">#&gt; [1] "New tweets added: 2; Unknown replies:2; Searchable replies: 1"</span>
<span class="co">#&gt; [1] "Iteration: 26"</span>
<span class="co">#&gt; [1] "New tweets added: 1; Unknown replies:2; Searchable replies: 1"</span>
<span class="co">#&gt; [1] "Iteration: 27"</span>
<span class="co">#&gt; [1] "New tweets added: 1; Unknown replies:2; Searchable replies: 1"</span>
<span class="co">#&gt; [1] "Iteration: 28"</span>
<span class="co">#&gt; [1] "New tweets added: 1; Unknown replies:2; Searchable replies: 1"</span>
<span class="co">#&gt; [1] "Iteration: 29"</span>
<span class="co">#&gt; [1] "New tweets added: 1; Unknown replies:2; Searchable replies: 1"</span>
<span class="co">#&gt; [1] "Iteration: 30"</span>
<span class="co">#&gt; [1] "New tweets added: 1; Unknown replies:2; Searchable replies: 1"</span>
<span class="co">#&gt; [1] "Iteration: 31"</span>
<span class="co">#&gt; [1] "New tweets added: 1; Unknown replies:1; Searchable replies: 0"</span>
<span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(sample1000); <span class="kw"><a href="https://rdrr.io/r/base/dim.html">dim</a></span>(sample_with_upstream)
<span class="co">#&gt; [1] 936  90</span>
<span class="co">#&gt; [1] 1287  100</span></code></pre></div>
</div>
<div id="get_replies-get_retweets-get_quotes-get_mentions" class="section level3">
<h3 class="hasAnchor">
<a href="#get_replies-get_retweets-get_quotes-get_mentions" class="anchor"></a>get_replies(), get_retweets(), get_quotes(), get_mentions()</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw"><a href="../reference/get_replies.html">get_replies</a></span>(example_after_rtweet)); <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw"><a href="../reference/get_retweets.html">get_retweets</a></span>(example_after_rtweet)); <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw"><a href="../reference/get_quotes.html">get_quotes</a></span>(example_after_rtweet)); <span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="kw"><a href="../reference/get_mentions.html">get_mentions</a></span>(example_after_rtweet))
<span class="co">#&gt; [1] 5</span>
<span class="co">#&gt; [1] 72</span>
<span class="co">#&gt; [1] 6</span>
<span class="co">#&gt; [1] 131</span></code></pre></div>
</div>
<div id="create_edgelist" class="section level3">
<h3 class="hasAnchor">
<a href="#create_edgelist" class="anchor"></a>create_edgelist()</h3>
<p>Create an edgelist from the TAGS data using the <code><a href="../reference/create_edgelist.html">tidytags::create_edgelist()</a></code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_edgelist &lt;-<span class="st"> </span><span class="kw"><a href="../reference/create_edgelist.html">create_edgelist</a></span>(example_after_rtweet)
<span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(example_edgelist, <span class="dv">20</span>)
<span class="co">#&gt; # A tibble: 20 x 3</span>
<span class="co">#&gt;    sender          receiver        edge_type</span>
<span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;    </span>
<span class="co">#&gt;  1 lizjmeyer       lizjmeyer       reply    </span>
<span class="co">#&gt;  2 lizjmeyer       lizjmeyer       reply    </span>
<span class="co">#&gt;  3 lizjmeyer       lizjmeyer       reply    </span>
<span class="co">#&gt;  4 lizjmeyer       DrKatieLewis    reply    </span>
<span class="co">#&gt;  5 AERADivisionK   AERADivisionK   reply    </span>
<span class="co">#&gt;  6 ZingerLearns    AERADivisionK   retweet  </span>
<span class="co">#&gt;  7 ashegrads       AERADivJGradNet retweet  </span>
<span class="co">#&gt;  8 profm_de_r      AERADivisionK   retweet  </span>
<span class="co">#&gt;  9 DrKYSR          AERADivisionK   retweet  </span>
<span class="co">#&gt; 10 EmmaRenold      lizjmeyer       retweet  </span>
<span class="co">#&gt; 11 EmmaRenold      lizjmeyer       retweet  </span>
<span class="co">#&gt; 12 EmmaRenold      lizjmeyer       retweet  </span>
<span class="co">#&gt; 13 pereira_rasoHTS DrJaimeMalic    retweet  </span>
<span class="co">#&gt; 14 SnackinMadkins  AERADivisionK   retweet  </span>
<span class="co">#&gt; 15 blkwknd         afroacademic    retweet  </span>
<span class="co">#&gt; 16 DrCamikaRoyal   AERADivisionK   retweet  </span>
<span class="co">#&gt; 17 danacotto       AKoenka         retweet  </span>
<span class="co">#&gt; 18 ebovee09        AERA_MotSIG     retweet  </span>
<span class="co">#&gt; 19 DoItGurl        AERADivisionK   retweet  </span>
<span class="co">#&gt; 20 CarrieNKlein    AERADivJGradNet retweet</span>
dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(example_edgelist, edge_type)
<span class="co">#&gt; # A tibble: 4 x 2</span>
<span class="co">#&gt;   edge_type       n</span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;int&gt;</span>
<span class="co">#&gt; 1 mention       131</span>
<span class="co">#&gt; 2 quote-tweet     6</span>
<span class="co">#&gt; 3 reply           5</span>
<span class="co">#&gt; 4 retweet        72</span></code></pre></div>
</div>
<div id="add_users_data" class="section level3">
<h3 class="hasAnchor">
<a href="#add_users_data" class="anchor"></a>add_users_data()</h3>
<p><strong>tidytags</strong> also has functionality to add user-level data to an edgelist through the function <code><a href="../reference/add_users_data.html">tidytags::add_users_data()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_users_data &lt;-<span class="st"> </span>rtweet<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rtweet/man/users_data.html">users_data</a></span>(example_after_rtweet)
example_senders_receivers_data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/add_users_data.html">add_users_data</a></span>(example_edgelist, example_users_data)
dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(example_senders_receivers_data)
<span class="co">#&gt; Observations: 214</span>
<span class="co">#&gt; Variables: 41</span>
<span class="co">#&gt; $ sender                          &lt;chr&gt; "lizjmeyer", "lizjmeyer", "lizjmeyer"…</span>
<span class="co">#&gt; $ receiver                        &lt;chr&gt; "lizjmeyer", "lizjmeyer", "lizjmeyer"…</span>
<span class="co">#&gt; $ edge_type                       &lt;chr&gt; "reply", "reply", "reply", "reply", "…</span>
<span class="co">#&gt; $ user_id_sender                  &lt;chr&gt; "33107559", "33107559", "33107559", "…</span>
<span class="co">#&gt; $ name_sender                     &lt;chr&gt; "Elizabeth J. Meyer", "Elizabeth J. M…</span>
<span class="co">#&gt; $ location_sender                 &lt;chr&gt; "Boulder, CO", "Boulder, CO", "Boulde…</span>
<span class="co">#&gt; $ description_sender              &lt;chr&gt; "Assoc. Dean of Students @cueducation…</span>
<span class="co">#&gt; $ url_sender                      &lt;chr&gt; "https://t.co/XlATn4P6VT", "https://t…</span>
<span class="co">#&gt; $ protected_sender                &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span>
<span class="co">#&gt; $ followers_count_sender          &lt;int&gt; 2379, 2379, 2379, 2379, 957, 548, 418…</span>
<span class="co">#&gt; $ friends_count_sender            &lt;int&gt; 1592, 1592, 1592, 1592, 322, 558, 294…</span>
<span class="co">#&gt; $ listed_count_sender             &lt;int&gt; 154, 154, 154, 154, 10, 4, 69, 11, 53…</span>
<span class="co">#&gt; $ statuses_count_sender           &lt;int&gt; 14369, 14369, 14369, 14369, 397, 1134…</span>
<span class="co">#&gt; $ favourites_count_sender         &lt;int&gt; 6335, 6335, 6335, 6335, 226, 28526, 2…</span>
<span class="co">#&gt; $ account_created_at_sender       &lt;dttm&gt; 2009-04-19 02:58:52, 2009-04-19 02:5…</span>
<span class="co">#&gt; $ verified_sender                 &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span>
<span class="co">#&gt; $ profile_url_sender              &lt;chr&gt; "https://t.co/XlATn4P6VT", "https://t…</span>
<span class="co">#&gt; $ profile_expanded_url_sender     &lt;chr&gt; "http://elizabethjmeyer.com", "http:/…</span>
<span class="co">#&gt; $ account_lang_sender             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ profile_banner_url_sender       &lt;chr&gt; "https://pbs.twimg.com/profile_banner…</span>
<span class="co">#&gt; $ profile_background_url_sender   &lt;chr&gt; "http://abs.twimg.com/images/themes/t…</span>
<span class="co">#&gt; $ profile_image_url_sender        &lt;chr&gt; "http://pbs.twimg.com/profile_images/…</span>
<span class="co">#&gt; $ user_id_receiver                &lt;chr&gt; "33107559", "33107559", "33107559", "…</span>
<span class="co">#&gt; $ name_receiver                   &lt;chr&gt; "Elizabeth J. Meyer", "Elizabeth J. M…</span>
<span class="co">#&gt; $ location_receiver               &lt;chr&gt; "Boulder, CO", "Boulder, CO", "Boulde…</span>
<span class="co">#&gt; $ description_receiver            &lt;chr&gt; "Assoc. Dean of Students @cueducation…</span>
<span class="co">#&gt; $ url_receiver                    &lt;chr&gt; "https://t.co/XlATn4P6VT", "https://t…</span>
<span class="co">#&gt; $ protected_receiver              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span>
<span class="co">#&gt; $ followers_count_receiver        &lt;int&gt; 2379, 2379, 2379, 183, 957, 957, 2366…</span>
<span class="co">#&gt; $ friends_count_receiver          &lt;int&gt; 1592, 1592, 1592, 385, 322, 322, 2324…</span>
<span class="co">#&gt; $ listed_count_receiver           &lt;int&gt; 154, 154, 154, 5, 10, 10, 27, 10, 10,…</span>
<span class="co">#&gt; $ statuses_count_receiver         &lt;int&gt; 14369, 14369, 14369, 750, 397, 397, 4…</span>
<span class="co">#&gt; $ favourites_count_receiver       &lt;int&gt; 6335, 6335, 6335, 5123, 226, 226, 224…</span>
<span class="co">#&gt; $ account_created_at_receiver     &lt;dttm&gt; 2009-04-19 02:58:52, 2009-04-19 02:5…</span>
<span class="co">#&gt; $ verified_receiver               &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span>
<span class="co">#&gt; $ profile_url_receiver            &lt;chr&gt; "https://t.co/XlATn4P6VT", "https://t…</span>
<span class="co">#&gt; $ profile_expanded_url_receiver   &lt;chr&gt; "http://elizabethjmeyer.com", "http:/…</span>
<span class="co">#&gt; $ account_lang_receiver           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ profile_banner_url_receiver     &lt;chr&gt; "https://pbs.twimg.com/profile_banner…</span>
<span class="co">#&gt; $ profile_background_url_receiver &lt;chr&gt; "http://abs.twimg.com/images/themes/t…</span>
<span class="co">#&gt; $ profile_image_url_receiver      &lt;chr&gt; "http://pbs.twimg.com/profile_images/…</span></code></pre></div>
</div>
<div id="code_gender" class="section level3">
<h3 class="hasAnchor">
<a href="#code_gender" class="anchor"></a>code_gender()</h3>
<p>We are still working to add gender coding (see <code>R/code-gender.R</code> for an example).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Staudt Willet K. Bret, Rosenberg Joshua M., Greenhalgh Spencer P..</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
