---
output: github_document
---

*Note: This file ('README.Rmd') generates the file README.md file. Edit here to make changes to that output file.*

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "main/figures/README-",
  out.width = "100%",
  message = FALSE
)
```

# rTAGS

The goal of rTAGS is to make it easy to work with Twitter data collected via a Twitter Archiving Google Sheet ([TAGS](https://tags.hawksey.info/)) in R. This package makes ample use of the [{rtweet} package](https://rtweet.info/) to process and prepare the data.

## Installation

You can install the released version of rTAGS from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("devtools")
devtools::install_github('bretsw/rTAGS)
```

```{r packages, eval = FALSE}
library(rTAGS)
library(rtweet)
library(tidyverse)
```

## Core rTAGS functions

### read_tags()

If you want to simply view the TAGS archive, you can use `read_tags()`:

```{r}
url <- "https://docs.google.com/spreadsheets/d/1WM2xWG9B0Wqn3YG5uakfy_NSAEzIFP2nEAJ5U_fqufc/edit#gid=8743918"

url %>%
  read_tags()
```

### pull_data()

This is a basic example which shows you how to read a TAGS sheet and then use {rtweet} (via `rtweet::pull_data()`) to access additional data. The data for this example were gathered with TAGS, querying the Twitter API to collect tweets containing the #AERA19 or #AERA2019 hashtags throughout most of the year 2019 (beginning February 22, 2019). The `rTAGS::read_tags()` and `rTAGS::pull_data()` functions work together to retrieve data from a TAGS source.

```{r}
d <- url %>%
  read_tags() %>%
  pull_data()
```

Here is the result, viewed with the `glimpse()` function from **dplyr**:

```{r}
glimpse(d)
```

### get_replies()

### get_retweets()

### get_quotes()

### get_mentions()

### create_edgelist()

Create an edgelist from the TAGS data using the `rTAGS::create_edgelist()` function:

```{r}
edgelist <- create_edgelist(d)

edgelist %>% 
  count(edge_type)
```

### add_users_data()

- We also have functionality to add user-level data to an edgelist (see `add-users-data-.R`)

```{r}
u <- rtweet::users_data(d)

dd <- add_users_data(edgelist, u)

dd
```

### geocode()

### lookup_many_tweets()

### find_domain()

- Working with URLs

### code_gender()

- We are working to add gender coding (see `coding-gender.R` for an example).

## Future collaborations

This is a new package and we welcome contributors.
